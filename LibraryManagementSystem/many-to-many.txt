class Borrower(models.Model):
    books = models.ManyToManyField('Book', through='BorrowedBook')
    book_borrower_student = models.ForeignKey(Student_Information, on_delete=models.CASCADE)
    borrow_date = models.DateTimeField(default=timezone.now)
    due_date = models.DateTimeField()
    return_date = models.DateTimeField(null=True, blank=True)
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    def __str__(self):
         return f"Student: {self.book_borrower_student.user} borrowed books on Date: {self.borrow_date}"

class BorrowedBook(models.Model):
    borrower = models.ForeignKey(Borrower, on_delete=models.CASCADE)
    book = models.ForeignKey('Book', on_delete=models.CASCADE)
    # Add any other fields related to the borrowing of the book, if needed
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)

class BorrowerAdmin(admin.ModelAdmin):
    list_display = ('book_borrower_student', 'borrow_date', 'due_date', 'return_date','created_at','updated_at')
    readonly_fields = ('created_at', 'updated_at',)
admin.site.register(Borrower, BorrowerAdmin)

# Customize the BorrowedBook admin interface
class BorrowedBookAdmin(admin.ModelAdmin):
    list_display = ('borrower', 'book', 'created_at', 'updated_at',)
    readonly_fields = ('created_at', 'updated_at',)
admin.site.register(BorrowedBook, BorrowedBookAdmin)

<td>
    {% for book in borrow.books.all %}
        {{ book.title }}
        {% if not forloop.last %}, {% endif %}
    {% endfor %}
</td>
<td>
    {% for book in borrow.books.all %}
        {{ book.id }}
        {% if not forloop.last %}, {% endif %}
    {% endfor %}
</td>

<form method="post" action="" id='myForm'>
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="student">Select Books:</label>
                            <select class="form-select" multiple type="checkbox" size="3" aria-label="size 3">
                                {% for book in books %}
                                <option vlue="{{ book.title }}">{{ book.title }}</option>
                                {% endfor %}
                            </select>
                    </div>
                    <div class="form-group">
                        <label for="student">Select Student:</label>
                        <select name="student" id="student" class="form-control">
                            <option value="">Select Student</option>
                            {% for student in student_information %}
                                <option value="{{ student.pk }}">{{ student.user }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" id="saveChangesBtn" class="btn btn-primary">Save changes</button>
                      </div>
                </form>